/**
 * @license core-layout v1.0.0, 2015-01-31T23:42:24+0100
 * (c) 2015 Martin Thorsen Ranang <mtr@ranang.org>
 * License: MIT
 */
!function(e){"use strict";e.exports=angular.module("coreLayout.templates",[]).run(["$templateCache",function(e){e.put("core-layout.html",'<div class="cl-header" ui-view="{{::names.header}}"></div><div class="cl-contents" ui-view="{{::names.contents}}"></div><div class="cl-footer" ui-view="{{::names.footer}}"></div>')}])}(module,window),function(e,o){"function"==typeof define&&define.amd?define(["angular","angular-iscroll","lodash"],o):"object"==typeof exports?module.exports=o(require("angular"),require("angular-iscroll"),require("lodash")):e.coreLayout=o(e.angular,e.angularIscroll,e.lodash)}(this,function(e,o,t){"use strict";function n(e){return function(o){for(var t=-1,n=words(deburr(o)),r=n.length,a="";++t<r;)a=e(a,n[t],t);return a}}function r(o,n,r){function a(o){e.isDefined(o)&&t.merge(s.modal,o)}function c(e){a(e),s.modal.show=!0}function i(e){a(e)}function l(e){s.modal.show=!1,a(e)}function u(e){r.refresh(e)}var s={};return o.coreLayout=s,{state:s,openModal:c,updateModal:i,closeModal:l,layoutChanged:u}}function a(e){return e=e||{},{all:e.all||!1,xs:e.xs||!1,sm:e.sm||!1,md:e.md||!1,lg:e.lg||!1}}function c(e,o,t){return o===!0&&e.push(t),e}function i(e,o){function n(n,r,a,i){var u=r+"."+a+"."+i;e.$watchCollection("coreLayout."+u,function(e){var d=t.reduce(e,c,[]),f=l[u]||[],m="cl-"+a+"-"+i,h=!1;t.each(t.difference(d,f),function(e){n.$addClass(m+s[e]),h=!0}),t.each(t.difference(f,d),function(e){n.$removeClass(m+s[e]),h=!0}),h&&o.layoutChanged(r),l[u]=d})}function r(e,r,a){var c=u({},e.options,i),l=c.name,s=t.camelCase(l);delete c.name,e.names={header:l+"-header",contents:l+"-contents",footer:l+"-footer"},o.state[s]=c,a.$addClass("core-layout");var d=[n(a,s,"header","visible"),n(a,s,"header","hidden"),n(a,s,"footer","visible"),n(a,s,"footer","hidden")];e.$on("$destroy",function(){t.each(d,function(e){e()})})}var i={show:!0,header:{visible:a(),hidden:a()},footer:{visible:a(),hidden:a()}},l={};return{link:r,scope:{options:"=coreLayout"},templateUrl:"core-layout.html"}}function l(e,o){function t(t,n){n.on("click",function(){e.go(o.state[t.name].closeTargetState)})}return{link:t,scope:{name:"@coreLayoutClose"}}}t.VERSION.split(".")[0]<3&&(t.camelCase=n(function(e,o,t){return o=o.toLowerCase(),t?e+o.charAt(0).toUpperCase()+o.slice(1):o})),r.$inject=["$rootScope","$log","iScrollService"];var u=t.partialRight(t.merge,function d(e,o){return t.merge(e,o,d)}),s={all:"",xs:"-xs",sm:"-sm",md:"-md",lg:"-lg"};return i.$inject=["$rootScope","coreLayoutService"],l.$inject=["$state","coreLayoutService"],e.module("coreLayout",[o.name,"coreLayout.templates"]).factory("coreLayoutService",r).directive("coreLayout",i).directive("coreLayoutClose",l)});