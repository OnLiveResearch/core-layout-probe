/**
 * @license core-layout v1.3.0, 2015-02-06T11:40:12+0100
 * (c) 2015 Martin Thorsen Ranang <mtr@ranang.org>
 * License: MIT
 */
!function(e){"use strict";e.exports=angular.module("coreLayout.templates",[]).run(["$templateCache",function(e){e.put("core-layout.html",'<div class="cl-header" ui-view="{{::names.header}}"></div><div class="cl-contents" ui-view="{{::names.contents}}"></div><div class="cl-footer" ui-view="{{::names.footer}}"></div>')}])}(module,window),function(e,o){"use strict";"function"==typeof define&&define.amd?define(["angular","angular-iscroll","lodash"],o):"object"==typeof exports?module.exports=o(require("angular"),require("angular-iscroll"),require("lodash")):e.coreLayout=o(e.angular,e.angularIscroll,e.lodash)}(this,function(e,o,t){"use strict";function n(e){return e=e||{},{all:e.all||!1,xs:e.xs||!1,sm:e.sm||!1,md:e.md||!1,lg:e.lg||!1}}function a(o,a){function r(o,n){e.isDefined(o)&&(e.isDefined(n)?t.merge(n,o):t.merge(v.modal,o))}function i(e){r(e),v.modal.show=!0}function c(e){r(e)}function l(e){v.modal.show=!1,r(e)}function u(e,o){var t=v[e];r(o,t),t.show=!0}function s(e,o){r(o,v[e])}function d(e,o){var t=v[e];t.show=!1,r(o,t)}function f(e){var o=v[e];o.show=!o.show}function m(e){a.refresh(e)}function h(e){r(e,v.main)}var v={};return o.coreLayout=v,{state:v,openModal:i,updateModal:c,closeModal:l,openDrawer:u,updateDrawer:s,closeDrawer:d,toggleDrawer:f,layoutChanged:m,update:h,sizesFalseExcept:n}}function r(e,o,t){return o===!0&&e.push(t),e}function i(e,o){function a(n,a,i,c){var l=a+"."+i+"."+c;e.$watchCollection("coreLayout."+l,function(e){var d=t.reduce(e,r,[]),f=s[l]||[],m="cl-"+i+"-"+c,h=!1;t.each(t.difference(d,f),function(e){n.$addClass(m+u[e]),h=!0}),t.each(t.difference(f,d),function(e){n.$removeClass(m+u[e]),h=!0}),h&&o.layoutChanged(a),s[l]=d})}function i(e,n,r){var i=l({},e.options,c),u=i.name,s=r.$normalize(u);delete i.name,e.names={header:u+"-header",contents:u+"-contents",footer:u+"-footer"},o.state[s]=i,r.$addClass("core-layout"),r.$addClass("cl-"+u);var d=[a(r,s,"header","visible"),a(r,s,"header","hidden"),a(r,s,"footer","visible"),a(r,s,"footer","hidden")];e.$on("$destroy",function(){t.each(d,function(e){e()})})}var c={enabled:!0,show:!0,header:{visible:n(),hidden:n()},footer:{visible:n(),hidden:n()}},s={};return{link:i,scope:{options:"=coreLayout"},templateUrl:"core-layout.html"}}function c(e,o){function t(t,n){n.on("click",function(){e.go(o.state[t.name].closeTargetState)})}return{link:t,scope:{name:"@coreLayoutClose"}}}a.$inject=["$rootScope","iScrollService"];var l=t.partialRight(t.merge,function s(e,o){return t.merge(e,o,s)}),u={all:"",xs:"-xs",sm:"-sm",md:"-md",lg:"-lg"};return i.$inject=["$rootScope","coreLayoutService"],c.$inject=["$state","coreLayoutService"],e.module("coreLayout",[o.name,"coreLayout.templates"]).factory("coreLayoutService",a).directive("coreLayout",i).directive("coreLayoutClose",c)});