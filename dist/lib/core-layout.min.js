/**
 * @license core-layout v0.5.0, 2015-01-29T21:39:22+0100
 * (c) 2015 Martin Thorsen Ranang <mtr@ranang.org>
 * License: MIT
 */
!function(e){"use strict";e.exports=angular.module("coreLayout.templates",[]).run(["$templateCache",function(e){e.put("views/core-layout.html",'<div class="cl-header" ui-view="{{::names.header}}"></div><div class="cl-contents" ui-view="{{::names.contents}}"></div><div class="cl-footer" ui-view="{{::names.footer}}"></div>')}])}(module,window),function(e){"use strict";function o(e,o){function t(e){angular.isDefined(e)&&c.merge(l.modal,e)}function n(e){t(e),l.modal.show=!0}function a(e){t(e)}function r(e){l.modal.show=!1,t(e)}function i(e){o.refresh(e)}var l={};return e.coreLayout=l,{state:l,openModal:n,updateModal:a,closeModal:r,layoutChanged:i}}function t(e){return e=e||{},{all:e.all||!1,xs:e.xs||!1,sm:e.sm||!1,md:e.md||!1,lg:e.lg||!1}}function n(e,o,t){return o===!0&&e.push(t),e}function a(e,o){function a(t,a,r,i){var u=a+"."+r+"."+i;e.$watchCollection("coreLayout."+u,function(e){var d=c.reduce(e,n,[]),f=s[u]||[],m="cl-"+r+"-"+i,v=!1;c.each(c.difference(d,f),function(e){t.$addClass(m+l[e]),v=!0}),c.each(c.difference(f,d),function(e){t.$removeClass(m+l[e]),v=!0}),v&&o.layoutChanged(a),s[u]=d})}function r(e,t,n){var r=i({},e.options,u),l=r.name;delete r.name,e.names={header:l+"-header",contents:l+"-contents",footer:l+"-footer"},o.state[l]=r,n.$addClass("core-layout");var s=[a(n,l,"header","visible"),a(n,l,"header","hidden"),a(n,l,"footer","visible"),a(n,l,"footer","hidden")];e.$on("$destroy",function(){c.each(s,function(e){e()})})}var u={show:!0,header:{visible:t(),hidden:t()},footer:{visible:t(),hidden:t()}},s={};return{link:r,scope:{options:"=coreLayout"},templateUrl:"core-layout.html"}}function r(e,o){function t(t,n){n.on("click",function(){e.go(o.state[t.name].closeTargetState)})}return{link:t,scope:{name:"@coreLayoutClose"}}}var c=require("lodash");o.$inject=["$rootScope","iScrollService"];var i=c.partialRight(c.merge,function u(e,o){return c.merge(e,o,u)}),l={all:"",xs:"-xs",sm:"-sm",md:"-md",lg:"-lg"};a.$inject=["$rootScope","coreLayoutService"],r.$inject=["$state","coreLayoutService"],e.exports=angular.module("coreLayout",["angular-iscroll","coreLayout.templates"]).factory("coreLayoutService",o).directive("coreLayout",a).directive("coreLayoutClose",r)}(module,window);