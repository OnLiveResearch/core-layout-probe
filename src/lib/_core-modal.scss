.cl-modal-box {
  .cl-header, .cl-footer {
    z-index: $cl-modal-header-z-index;
  }
  .cl-footer {
    height: $cl-modal-footer-height;
  }
}

.iscroll-off {
  .cl-modal-box {
    .cl-contents {
      margin-top: $cl-modal-header-height;
      margin-bottom: $cl-modal-footer-height;
    }

  }
}

.iscroll-on {
  .cl-modal-box {
    .cl-contents {
      top: $cl-modal-header-height;
      bottom: $cl-modal-footer-height;
    }
  }
}

//@mixin cl-modal-content-size-reset() {
//  .iscroll-off {
//    .cl-modal-box {
//
//      // FIXME:  This is not done yet:
//      // When no media query matches, these should all be invisible:
//      .cl-header-visible-sm,
//      .cl-header-visible-md,
//      .cl-header-visible-lg {
//        > .cl-contents {
//          top: 66px;
//          height: $cl-modal-box-height-sm - $cl-modal-footer-height;
//        }
//      }
//      .cl-footer-visible-sm,
//      .cl-footer-visible-md,
//      .cl-footer-visible-lg {
//        > .cl-contents {
//          bottom: 77px;
//          height: $cl-modal-box-height-sm - $cl-modal-header-height;
//        }
//      }
//    }
//  }
//  .iscroll-on .cl-modal-overlay {
//    .cl-modal-box {
//
//      // FIXME:  This is not done yet:
//      // When no media query matches, these should all be invisible:
//      //      .cl-header-visible-sm > .cl-contents {
//      //        height: $cl-modal-box-height-sm - $cl-modal-header-height;
//      //      }
//      //      .cl-header-visible-md > .cl-contents {
//      //        height: $cl-modal-box-height-md - $cl-modal-header-height;
//      //      }
//      //      .cl-header-visible-lg > .cl-contents {
//      //        height: $cl-modal-box-height-lg - $cl-modal-header-height;
//      //      }
//      .cl-header-visible-sm,
//      .cl-header-visible-md,
//      .cl-header-visible-lg {
//        > .cl-contents {
//          top: 0;
//        }
//      }
//      //      .cl-footer-visible-sm > .cl-contents {
//      //        height: $cl-modal-box-height-sm - $cl-modal-footer-height;
//      //      }
//      //      .cl-footer-visible-md > .cl-contents {
//      //        height: $cl-modal-box-height-md - $cl-modal-footer-height;
//      //      }
//      //      .cl-footer-visible-lg > .cl-contents {
//      //        height: $cl-modal-box-height-lg - $cl-modal-footer-height;
//      //      }
//      .cl-footer-visible-sm,
//      .cl-footer-visible-md,
//      .cl-footer-visible-lg {
//        > .cl-contents {
//          bottom: 0;
//        }
//      }
//    }
//  }
//
//}
//
//@include cl-modal-content-size-reset();

.cl-modal-overlay {
  position: absolute;
  overflow: hidden;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: $cl-modal-z-index;
  background-color: $cl-modal-overlay-color;
  pointer-events: none;
}

.cl-modal-box {
  position: absolute;
  background-color: $cl-modal-box-bg-color;
  pointer-events: auto;

  @media (max-width: $cl-screen-xs-max) {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  @media (min-width: $cl-screen-sm-min) {
    // Center left-right and top-bottom.
    left: 50%;
    top: 50%;
    //        transform: translate(-50%, -50%);  // This didn't work in Safari.
  }

  .cl-contents {
    overflow-y: auto;
  }
}

@mixin cl-modal-content-size($size, $box-height, $all-sizes) {
  .cl-header, .cl-header-visible-#{$size} > .cl-header {
    height: $cl-modal-header-height;
  }
  .cl-header-hidden-#{$size} > .cl-header,
  .cl-footer-hidden-#{$size} > .cl-footer {
    display: none !important;
  }
  .cl-footer, .cl-footer-visible-#{$size} > .cl-footer {
    height: $cl-modal-footer-height;
  }

  .cl-contents {
    height: $box-height - ($cl-modal-header-height + $cl-modal-footer-height);
  }
  .cl-header-hidden-#{$size} > .cl-contents {
    height: $box-height - $cl-modal-footer-height;
  }
  .cl-footer-hidden-#{$size} > .cl-contents {
    height: $box-height - $cl-modal-header-height;
  }
  .cl-header-hidden-#{$size}.cl-footer-hidden-#{$size} > .cl-contents {
    height: $box-height;
  }
}

@mixin cl-modal-box-def($size, $box-width, $box-height) {
  .cl-modal-box {
    width: $box-width;
    height: $box-height;
    margin: (- $box-height / 2) 0 0 (- $box-width / 2);
    @include cl-modal-content-size($size, $box-height, $cl-responsive-sizes);
  }
}

@media (min-width: $cl-screen-sm-min) and (max-width: $cl-screen-sm-max) {
  @include cl-modal-box-def(sm, $cl-modal-box-width-sm,
          $cl-modal-box-height-sm);
  .iscroll-off {
    .cl-modal-box {
      .cl-header, .cl-footer {
        position: absolute;
      }
      .cl-header-hidden-sm > .cl-contents {
        margin-top: 0;
      }
      .cl-header-hidden-sm.cl-bottom-hidden-sm > .cl-contents {
        margin-top: 0;
        margin-bottom: 0;
      }
      .cl-bottom-hidden-sm > .cl-contents {
        margin-bottom: 0;
      }
    }
  }
  .iscroll-on {
    .cl-modal-box {
      .cl-header-hidden-sm > .cl-contents {
        top: 0;
      }
      .cl-header-hidden-sm.cl-bottom-hidden-sm > .cl-contents {
        top: 0;
        bottom: 0;
      }
      .cl-bottom-hidden-sm > .cl-contents {
        bottom: 0;
      }
    }
  }
}

//@media (min-width: $cl-screen-md-min) and (max-width: $cl-screen-md-max) {
//  width: $cl-modal-box-width-md;
//  height: $cl-modal-box-height-md;
//  @include cl-modal-content-size(md, $cl-modal-box-height-md);
//  margin: (- $cl-modal-box-height-md/2) 0 0 (- $cl-modal-box-width-md/2);
//}
//@media (min-width: $cl-screen-lg-min) {
//  width: $cl-modal-box-width-lg;
//  height: $cl-modal-box-height-lg;
//  @include cl-modal-content-size(lg, $cl-modal-box-height-lg);
//  margin: (- $cl-modal-box-height-lg/2) 0 0 (- $cl-modal-box-width-lg/2);
//}
